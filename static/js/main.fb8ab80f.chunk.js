(this["webpackJsonphomestuck-bookclub-guesses"]=this["webpackJsonphomestuck-bookclub-guesses"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(96),a(22)),s=a(33),i=a(12),u=a(157),d=a(158),m=a(159),p=a(160),E=a(151),g=Object(E.a)((function(e){return{banner:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},space:{flex:"1 1 auto"},icon:{height:"25px"}}})),h=a(154),f=a(173),b=a(170),w=a(174),v=Object(E.a)((function(e){return{root:{padding:"0 10px",width:"max-content"},item:{},select:{minWidth:"200px",width:"max-content","&:before":{borderColor:e.palette.secondary.contrastText},"&:after":{borderColor:e.palette.secondary.contrastText}},icon:{fill:e.palette.secondary.contrastText},label:{color:e.palette.secondary.contrastText,marginLeft:"10px"}}})),k={people:[],status:"unloaded"},x=function(e){return e.people};var _=a(15),y=a(79),O=a.n(y).a.create({baseURL:"https://hsbcguesserapi.azurewebsites.net/"}),S={type:"GET_PEOPLE_START"},j={type:"GET_PEOPLE_ERROR"};function N(e){var t,a=v(),n=Object(_.c)(x),c=Object(_.b)();return"unloaded"===n.status&&function(e){e(S),O.get("/people").then((function(t){return e({type:"GET_PEOPLE_SUCCESS",data:t.data})})).catch((function(t){return e(j)}))}(c),r.a.createElement(h.a,{className:a.root,disabled:void 0!==e.selected},r.a.createElement(f.a,{className:a.label,htmlFor:e.id},"User"),r.a.createElement(b.a,{inputProps:{name:"user",id:e.id,classes:{icon:a.icon}},value:null===(t=e.selected)||void 0===t?void 0:t.name,onChange:function(t){return e.setSelected(n.people.filter((function(e){return e.name===t.target.value}))[0])},className:a.select,style:{color:void 0!==e.selected?e.selected.colour:"black"}},n.people.map((function(e){return r.a.createElement(w.a,{className:a.item,style:{color:e.colour},value:e.name},e.name)}))))}function C(e){var t=g();return r.a.createElement("header",null,r.a.createElement(u.a,{position:"static"},r.a.createElement(d.a,{className:t.banner,variant:"dense"},r.a.createElement(s.b,{to:Ee},r.a.createElement(m.a,null,r.a.createElement("img",{src:"/homestuck-bookclub-guesses/sburb.png",className:t.icon}))),r.a.createElement(p.a,{variant:"h6",noWrap:!0},"Homestuck Book Club Guesser"),r.a.createElement("div",{className:t.space}),r.a.createElement(N,{id:"people",selected:e.user,setSelected:function(t){return e.setUser(t)}}))))}var T=a(161),P=a(162),I=a(163),W=Object(E.a)((function(e){return{root:{display:"flex",marginBottom:"15px"},picture:{width:"150px",height:"150px"},title:{fontFamily:'"Courier New", monospace',fontWeight:"bold"},subtitle:{fontFamily:'"Courier New", monospace',fontWeight:"bold"},content:{flex:"1 auto"},choose:{padding:0,width:"150px",height:"150px"},arrow:{margin:"63px 63px"},link:{textDecoration:"none"}}}));function R(e){var t=W();return r.a.createElement(T.a,{className:t.root},r.a.createElement(P.a,{className:t.picture,component:"img",src:e.image,title:e.title}),r.a.createElement(I.a,{className:t.content},r.a.createElement(p.a,{className:t.title,variant:"h5"},e.title),r.a.createElement(p.a,{className:t.subtitle,variant:"subtitle1",color:"textSecondary"},"".concat(e.firstPage," \u2013 ").concat(e.lastPage))),e.showButton?r.a.createElement(s.b,{className:t.link,to:"".concat(Ee,"week/").concat(e.id)},r.a.createElement(m.a,{className:t.choose},r.a.createElement(p.a,{variant:"h6"},"==>"))):r.a.createElement(r.a.Fragment,null))}var G={type:"GET_WEEKS_START"},A={type:"GET_WEEKS_ERROR"};function B(){return function(e){return e(G),O.get("/week").then((function(t){return e({type:"GET_WEEKS_SUCCESS",data:t.data})})).catch((function(t){return e(A)}))}}var F={weeks:[],status:"unloaded"},L=function(e){return e.week};function U(){var e=Object(_.c)(L),t=Object(_.b)(),a=[];switch("unloaded"===e.status&&B()(t),e.status){case"loaded":e.weeks.forEach((function(e){a.push(r.a.createElement(R,{id:e.id,title:e.name,firstPage:e.firstPage,lastPage:e.lastPage,image:e.pictureSrc,showButton:!0}))}))}return r.a.createElement(r.a.Fragment,null,a)}var K=a(168),M=a(169),D=a(83),z=Object(D.a)({palette:{primary:{main:"#2CFF4B",light:"#80ff92",dark:"#082A00",contrastText:"white"},secondary:{main:"#969696",light:"#f2f2f2",contrastText:"white"}},typography:{fontFamily:'"Courier New", courier, monospace',body1:{fontWeight:"bold"},h6:{fontWeight:"bold"},h5:{fontWeight:"bold"},subtitle1:{fontWeight:"bold"}}}),J=a(165),H=a(166),$=a(61),q=a(171),Q=a(167),V=a(45),X={},Y=function(e){return e.pages};function Z(e){return function(t){return t(function(e){return{type:"get_pages_start",weekId:e}}(e)),O.get("/week/".concat(e,"/page")).then((function(a){return t(function(e,t){return{type:"get_pages_success",weekId:e,data:t}}(e,a.data))})).catch((function(a){return t(function(e){return{type:"get_pages_error",weekId:e}}(e))}))}}var ee=a(164),te=a(172),ae=a(87),ne=Object(E.a)((function(e){return{pageCard:{width:"220px",height:350},pageButton:{width:"220px",height:350,fontSize:"3em"},modal:{position:"absolute",width:700,height:300,margin:"auto",border:"2px solid #000",boxShadow:e.shadows[5]},modalContent:{height:252,width:652,backgroundColor:"white",outline:"none",padding:24},modalGrid:{height:202},cardContent:{width:220,flex:"1 0 auto"},cardMedia:{width:220,height:220,objectPosition:"bottom"},cardButton:{width:220,height:350,display:"flex",flexDirection:"column"},title:{textAlign:"center"},description:{textAlign:"left"}}}));function re(e){var t=ne();return r.a.createElement(T.a,{className:t.pageCard},r.a.createElement(m.a,{className:t.pageButton,onClick:e.onAdd},"+"))}function ce(e){var t=ne();return r.a.createElement(T.a,{className:t.pageCard},r.a.createElement(ae.a,{className:t.cardButton,onClick:function(){return window.open("https://www.homestuck.com/story/".concat(e.pageNumber))}},r.a.createElement(I.a,{className:t.cardContent},r.a.createElement(p.a,{className:t.title,variant:"h6"},"#",e.pageNumber)),r.a.createElement(P.a,{className:t.cardMedia,component:"img",title:e.pageNumber.toString(),src:e.pictureSrc}),r.a.createElement(I.a,{className:t.cardContent},r.a.createElement(p.a,{className:t.description,variant:"subtitle1"},e.description))))}var oe=a(156);function le(e){var t=ne(),a=Object(n.useState)(0),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),d=u[0],E=u[1],g=Object(n.useState)(""),h=Object(l.a)(g,2),f=h[0],b=h[1];return r.a.createElement("div",{className:t.modalContent},r.a.createElement(ee.a,{className:t.modalGrid,container:!0},r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"h4"},"Add New Page")),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement("label",null,"Page Number")),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(oe.a,{type:"number",value:o,onChange:function(e){return s(parseInt(e.target.value))}})),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement("label",null,"Description")),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(oe.a,{type:"text",value:d,onChange:function(e){return E(e.target.value)}})),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement("label",null,"Image Link")),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(oe.a,{type:"text",value:f,onChange:function(e){return b(e.target.value)}}))),r.a.createElement(m.a,{onClick:function(){return e.onAccept(o,d,f)},variant:"contained",color:"primary"},"Add"))}function se(e){var t=Object(_.c)(Y),a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],s=c[1],i=t[e.weekId],u=Object(_.b)(),d=ne(),m=[];if(void 0===i)Z(e.weekId)(u);else switch(i.status){case"unloaded":Z(e.weekId)(u);break;case"loading":m.push(r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(J.a,null)));break;case"loaded":i.pages.forEach((function(e){m.push(r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement(ce,e)))})),m.push(r.a.createElement(ee.a,{item:!0,xs:4},r.a.createElement(re,{weekId:e.weekId,onAdd:function(){return s(!0)}})));break;case"errored":m.push(r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement("span",null,"Error")))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{container:!0,spacing:3,justify:"space-evenly"},m),r.a.createElement(te.a,{className:d.modal,open:o,onClose:function(){return s(!1)}},r.a.createElement(le,{onAccept:function(t,a,n){var r,c;s(!1),(r=e.weekId,c={pageNumber:t,description:a,pictureSrc:n},function(e){return e(function(e){return{type:"add_page_start",weekId:e}}(r)),O.put("/week/".concat(r,"/page"),c).then((function(t){return e(function(e){return{type:"add_page_success",weekId:e}}(r))})).catch((function(t){return e(function(e){return{type:"add_page_error",weekId:e}}(r))}))})(u)}})))}function ie(e){var t=Object(n.useState)("pages"),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{id:e.week.id,title:e.week.name,firstPage:e.week.firstPage,lastPage:e.week.lastPage,image:e.week.pictureSrc,showButton:!1}),r.a.createElement($.a,{value:c},r.a.createElement(q.a,{onChange:function(e,t){o(t)},variant:"fullWidth"},r.a.createElement(H.a,{value:"pages",label:"Pages",wrapped:!0}),r.a.createElement(H.a,{value:"answer",label:"My Answer",disabled:void 0===e.user,wrapped:!0}),r.a.createElement(H.a,{value:"guesses",label:"My Guesses",disabled:void 0===e.user,wrapped:!0})),r.a.createElement(Q.a,{value:"pages"},r.a.createElement(se,{weekId:e.week.id})),r.a.createElement(Q.a,{value:"answer"},"This bit of the site is still under construction :("),r.a.createElement(Q.a,{value:"guesses"},"This bit of the site is still under construction :(")))}function ue(e){var t=Object(i.f)().id,a=[],n=Object(_.c)(L),c=Object(_.b)();switch(n.status){case"unloaded":B()(c),a.push(r.a.createElement(J.a,null));break;case"loading":a.push(r.a.createElement(J.a,null));break;case"errored":a.push(r.a.createElement(p.a,null,"There was an error loading the weeks"));break;default:var o=n.weeks.filter((function(e){return e.id===parseInt(t)}))[0];void 0!==o&&a.push(r.a.createElement(ie,{week:o,user:e.user}))}return r.a.createElement(r.a.Fragment,null,a)}var de=Object(E.a)((function(e){return{container:{marginTop:"10px"}}})),me=a(80),pe=a(81);me.a.add(pe.a);var Ee="/homestuck-bookclub-guesses/";var ge=function(){var e=Object(n.useState)(void 0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=de();return r.a.createElement(K.a,{theme:z},r.a.createElement(s.a,null,r.a.createElement(C,{user:a,setUser:function(e){return c(e)}}),r.a.createElement(M.a,{className:o.container,maxWidth:"lg"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"".concat(Ee,"week/:id")},r.a.createElement(ue,{user:a})),r.a.createElement(i.a,{path:Ee},r.a.createElement(U,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=a(32),fe=Object(he.combineReducers)({week:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEEKS_START":return{weeks:[],status:"loading"};case"GET_WEEKS_SUCCESS":return{weeks:t.data,status:"loaded"};case"GET_WEEKS_ERROR":return{weeks:[],status:"errored"};default:return e}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_pages_start":return e[t.weekId]={status:"loading",pages:[]},Object(V.a)({},e);case"get_pages_error":return e[t.weekId]={status:"errored",pages:[]},Object(V.a)({},e);case"get_pages_success":return e[t.weekId]={status:"loaded",pages:t.data},Object(V.a)({},e);case"add_page_success":case"add_page_error":return e[t.weekId]={status:"unloaded",pages:[]},Object(V.a)({},e);default:return e}},people:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PEOPLE_START":return{people:[],status:"loading"};case"GET_PEOPLE_SUCCESS":return{people:t.data,status:"loaded"};case"GET_PEOPLE_ERROR":return{people:[],status:"errored"};default:return e}}}),be=a(82),we=Object(he.createStore)(fe,Object(be.composeWithDevTools)());o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_.a,{store:we},r.a.createElement(ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(120)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.fb8ab80f.chunk.js.map